<div class="form-container" *ngIf="transaction">
  <form [formGroup]="transactionForm" class="form">
  <!-- Title -->
  <div class="form-row">
    <label for="title">Title</label>
    <input id="title" formControlName="title" />
    <small *ngIf="transactionForm.get('title')?.invalid && transactionForm.get('title')?.touched">
      Required
    </small>
  </div>

  <!-- Date -->
  <div class="form-row">
    <label>Date</label>
    <input type="date" formControlName="date" />
    <small *ngIf="transactionForm.get('date')?.invalid && transactionForm.get('date')?.touched">
      Required
    </small>
  </div>

  <!-- Transaction Type Select -->
  <div class="form-row">
    <label for="transactionType">Transaction Type</label>
  
    <select id="transactionType"
            formControlName="credit">
      <option [ngValue]="false">Expense</option>
      <option [ngValue]="true">Income</option>
    </select>
  </div>

  <!-- Amount -->
  <div class="form-row">
    <label>Amount</label>
    <input type="number" formControlName="amount" />
    <small *ngIf="transactionForm.get('amount')?.invalid && transactionForm.get('amount')?.touched">
      Required
    </small>
  </div>

  <!-- Category Select -->
  <div class="form-row">
    <label>Category</label>
    <select formControlName="categoryId">
      <option [ngValue]="null">— Select —</option>
      <option *ngFor="let c of categories" [ngValue]="c.id">{{ c.name }}</option>
    </select>
    <small *ngIf="transactionForm.get('categoryId')?.invalid && transactionForm.get('categoryId')?.touched">
      Required
    </small>
  </div>

  <!-- Account Select -->
  <div class="form-row">
    <label>Account</label>
    <select formControlName="accountId">
      <option [ngValue]="null">— Select —</option>
      <option *ngFor="let a of accounts" [ngValue]="a.id">{{ a.name }}</option>
    </select>
    <small *ngIf="transactionForm.get('accountId')?.invalid && transactionForm.get('accountId')?.touched">
      Required
    </small>
  </div>

  <!-- Description -->
  <div class="form-row">
    <label>Description</label>
    <textarea id="description" formControlName="description"></textarea>
  </div>

  <!-- Actions -->
  <div class="form-actions">
    <button type="button" (click)="closeForm()">Cancel</button>
    <button type="button" (click)="save()" [disabled]="transactionForm.invalid">Save</button>
  </div>
</form>
</div>